<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />

    <script type="text/javascript" src="//use.typekit.net/eda3eaj.js"></script>
    <script type="text/javascript">try { Typekit.load(); } catch (e) { }</script>

    <script src="jQuery.js"></script>
    <script src="Knockout.js"></script>
    <script async src="https://spreadsheets.google.com/feeds/list/0At0qWZvFZioqdEdXQzJXYlN2bTQ3YXlqZDZIV2Nab1E/od6/public/values?alt=json-in-script&callback=onLoadedJson"></script>

    <link rel="stylesheet" href="style.css" />
    <script src="app.js"></script>

    <title>Solar System Projects</title>
</head>

<body>
    <header>
        <h1>Iron Horse Chapter 14 &mdash; Solar System Projects</h1>
        <nav>
            <a href="old/">View old site</a>
            <div class="button" data-bind="click: toggleSort">Arrange</div>
            <div class="button" data-bind="click: toggleSearch">Search</div>
        </nav>
    </header>

    <section class="menu" data-bind="fadeVisible: sortVisible">
        <div class="button" data-value="name" data-bind="click: sortProjects">Name</div>
        <div class="button" data-value="author" data-bind="click: sortProjects">Author</div>
    </section>

    <section>
        <div class="menu" data-bind="fadeVisible: searchVisible">
            <input id="searchField" type="text" data-bind="value: searchInput, valueUpdate: 'input'" />
            <div data-bind="text: 'Found ' + searchResults().length + ' projects'"></div>
        </div>

        <div class="searchResults" data-bind="fadeVisible: searchVisible">
            <table data-bind="foreach: searchResults">
                <tr data-bind="click: $parent.scrollToProject">
                    <td data-bind="text: name"></td>
                    <td data-bind="text: author"></td>
                </tr>
            </table>
            <span data-bind="visible: searchResults().length === 0">(No results)</span>
        </div>
    </section>

    <main data-bind="foreach: projects">
        <section class="project" data-bind="visible: visible">
            <header data-bind="text: name, click: $parent.openLink"></header>
            <div class="description" data-bind="text: description"></div>
            <div class="author" data-bind="text: 'By ' + author"></div>
        </section>
    </main>
</body>
</html>
